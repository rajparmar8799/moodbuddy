/* ===========================
   MoodBuddy â€” Refreshed Styles
   - Purpose: keep ALL existing selectors intact but simplify
     visual language, improve spacing, accessibility and
     create a cleaner, more aesthetic look.
   - Replace this file in public/styles.css to apply the redesign.
   =========================== */

/* Reset and Base Styles */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  /* Core palette (muted, friendly, accessible) */
  --primary-500: #6b5cff;        /* primary accent */
  --primary-400: #7c6cff;
  --primary-600: #5646e6;

  --muted-700: #1f2937;         /* main text */
  --muted-500: #6b7280;         /* secondary text */
  --muted-400: #9ca3af;         /* helper text */

  --bg-50: #f7f8fb;
  --bg-100: #f3f5fa;
  --bg-200: #eef1f8;
  --card: rgba(255,255,255,0.6);

  --success: #16a34a;
  --warning: #f59e0b;
  --danger:  #ef4444;

  --glass-blur: 8px;

  --radius-xs: 8px;
  --radius-sm: 12px;
  --radius-md: 16px;
  --radius-lg: 20px;

  --shadow-xs: 0 2px 6px rgba(17,24,39,0.04);
  --shadow-sm: 0 6px 18px rgba(17,24,39,0.06);
  --shadow-md: 0 10px 30px rgba(17,24,39,0.08);

  --transition: 180ms cubic-bezier(.2,.9,.3,1);

  /* Mood colors (slightly refined for contrast) */
  --mood-sad: #3b82f6;
  --mood-neutral: #6b7280;
  --mood-happy: #f59e0b;
  --mood-very-happy: #f97316;
  --mood-very-sad: #1e40af;

  /* dark mode fallbacks */
  --dark-bg: #0b1020;
  --dark-surface: #0f1724;
  --dark-muted: #d1d5db;
}

/* Dark Mode toggle variables */
body.dark-mode {
  --bg-50: #071022;
  --bg-100: #071428;
  --bg-200: #091426;
  --card: rgba(18,22,33,0.6);
  --muted-700: #eef2ff;
  --muted-500: #cbd5e1;
  --muted-400: #9aa7b9;
  --shadow-xs: 0 6px 18px rgba(0,0,0,0.45);
  --shadow-sm: 0 14px 40px rgba(0,0,0,0.55);
}

/* Body */
body {
  font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg, var(--bg-50), var(--bg-100));
  color: var(--muted-700);
  min-height: 100vh;
  line-height: 1.5;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* Improve contrast for small text */
small, .text-muted {
  color: var(--muted-500);
  font-size: 0.875rem;
}

/* Screen Management */
.screen { display: none; min-height: 100vh; }
.screen.active { display: block; }

/* ---------------------------
   Card / Surface baseline
   --------------------------- */
.card-like {
  background: linear-gradient(180deg, rgba(255,255,255,0.82), rgba(255,255,255,0.7));
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-xs);
  border: 1px solid rgba(17,24,39,0.04);
  backdrop-filter: blur(var(--glass-blur));
}

/* Keep original selector names but streamline visuals */

/* Auth Screen */
.auth-container {
  max-width: 460px;
  margin: 5vh auto;
  padding: 2rem;
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.85));
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  border: 1px solid rgba(17,24,39,0.04);
}

.auth-header {
  text-align: center;
  margin-bottom: 1.75rem;
}

.logo-illustration { margin-bottom: 1rem; display: inline-block; }

.auth-header h1 {
  font-size: 1.9rem;
  font-weight: 700;
  color: var(--muted-700);
  letter-spacing: -0.02em;
  margin-bottom: 0.25rem;
  background: linear-gradient(90deg, var(--primary-500), var(--primary-400));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.auth-header p {
  color: var(--muted-500);
  font-size: 1rem;
  margin-bottom: 1rem;
}

/* Feature tiles (welcome) */
.welcome-features {
  display:flex;
  justify-content:center;
  gap:1rem;
  margin-top:1rem;
}

.feature-item {
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:0.5rem;
  padding:0.75rem;
  background: transparent;
  border-radius: var(--radius-sm);
  min-width: 72px;
  transition: transform var(--transition), box-shadow var(--transition);
}

.feature-item:hover {
  transform: translateY(-6px);
  box-shadow: var(--shadow-sm);
}

.feature-item i { font-size:1.25rem; color:var(--primary-500) }
.feature-item span { font-size:0.8rem; color:var(--muted-500); text-align:center; }

/* Auth Tabs */
.auth-tabs {
  display: flex;
  gap: 6px;
  margin-bottom: 1.5rem;
  background: transparent;
  border-radius: calc(var(--radius-md));
  padding: 4px;
}

.tab {
  flex: 1;
  padding: 0.6rem;
  border-radius: calc(var(--radius-sm));
  background: transparent;
  font-weight: 600;
  color: var(--muted-700);
  cursor: pointer;
  transition: all var(--transition);
  border: 1px solid transparent;
}

.tab.active {
  background: linear-gradient(90deg, rgba(107,92,255,0.12), rgba(124,108,255,0.06));
  color: var(--primary-500);
  box-shadow: var(--shadow-xs);
  transform: translateY(-2px);
  border-color: rgba(107,92,255,0.12);
}

/* Forms */
.auth-form { display: none; }
.auth-form.active { display:block; animation: slideInUp 320ms var(--transition) both; }

@keyframes slideInUp {
  from{ opacity:0; transform: translateY(10px); } to { opacity:1; transform: translateY(0); }
}

.form-group { margin-bottom: 1.25rem; }

.form-group label {
  display:flex; gap:0.5rem; align-items:center;
  margin-bottom:0.6rem; font-weight:600; color:var(--muted-700); font-size:0.95rem;
}

.form-group label i { color:var(--primary-500); font-size:1rem; }

.form-group input,
.form-group select,
.note-section textarea,
textarea,
input[type="text"],
input[type="email"],
input[type="password"] {
  width:100%;
  padding: 0.8rem 1rem;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(17,24,39,0.06);
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.94));
  transition: box-shadow var(--transition), border-color var(--transition), transform var(--transition);
  font-size: 0.98rem;
  color: var(--muted-700);
}

.form-group input:focus,
.note-section textarea:focus,
input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus {
  outline: none;
  border-color: var(--primary-500);
  box-shadow: 0 6px 18px rgba(107,92,255,0.08);
  transform: translateY(-2px);
}

.form-group input::placeholder,
.note-section textarea::placeholder {
  color: var(--muted-400);
}

/* Buttons */
.btn-primary {
  display:inline-flex;
  align-items:center;
  gap:0.5rem;
  padding:0.75rem 1.25rem;
  background: linear-gradient(90deg, var(--primary-500), var(--primary-400));
  color: #fff;
  border: none;
  border-radius: var(--radius-sm);
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 8px 30px rgba(107,92,255,0.12);
  transition: transform var(--transition), box-shadow var(--transition);
  position: relative;
  overflow: hidden;
  font-size: 0.98rem;
}

.btn-primary:hover { transform: translateY(-3px); box-shadow: var(--shadow-md); }
.btn-primary:active { transform: translateY(-1px); box-shadow: var(--shadow-sm); }
.btn-primary:disabled { opacity: 0.6; cursor:not-allowed; transform:none; }

.btn-secondary {
  padding:0.6rem 1rem;
  background: transparent;
  color: var(--muted-700);
  border: 1px solid rgba(17,24,39,0.06);
  border-radius: var(--radius-sm);
  cursor:pointer;
  transition: all var(--transition);
}

.btn-secondary:hover { background: rgba(17,24,39,0.03); transform: translateY(-2px); }

.btn-google {
  width:100%;
  padding:0.7rem;
  background: #fff;
  color:#444;
  border: 1px solid #e6e7ea;
  border-radius: var(--radius-sm);
  display:flex; align-items:center; justify-content:center; gap:0.75rem;
  cursor:pointer;
  transition: box-shadow var(--transition);
  box-shadow: var(--shadow-xs);
}

.btn-google:hover { box-shadow: var(--shadow-sm); }

/* Divider */
.divider { position:relative; text-align:center; margin:1.25rem 0; }
.divider::before {
  content: '';
  position:absolute; left:0; right:0; top:50%;
  height:1px; background: rgba(17,24,39,0.04);
}
.divider span {
  display:inline-block; background:transparent; padding:0 0.75rem; color:var(--muted-500); font-size:0.9rem;
}

/* ---------------------------
   Main App Layout
   --------------------------- */
.sidebar {
  position: fixed;
  left: 0; top: 0;
  width: 260px;
  height: 100vh;
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.94));
  box-shadow: var(--shadow-md);
  z-index: 100;
  transform: translateX(-100%);
  transition: transform var(--transition);
  border-right: 1px solid rgba(17,24,39,0.04);
  padding-bottom: 6rem;
}

.sidebar.open { transform: translateX(0); }

.sidebar-header {
  padding: 1.75rem 1.25rem;
  border-bottom: 1px solid rgba(17,24,39,0.03);
  background: linear-gradient(180deg, rgba(107,92,255,0.03), rgba(124,108,255,0.02));
}

.sidebar-logo { display:flex; gap:0.6rem; align-items:center; font-weight:700; color:var(--muted-700); }
.sidebar-logo span {
  background: linear-gradient(90deg, var(--primary-500), var(--primary-400));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Nav */
.nav-links { list-style:none; padding: 0.5rem 0; margin:0; }

.nav-link {
  display:flex; align-items:center; gap:0.9rem;
  padding:0.9rem 1.25rem; margin:0.25rem 0.4rem;
  color:var(--muted-500); text-decoration:none;
  border-radius: var(--radius-sm);
  transition: all var(--transition);
  position: relative;
}

.nav-link::before {
  content:''; position:absolute; left:0; top:0; height:100%; width:4px;
  background: linear-gradient(180deg, var(--primary-500), var(--primary-400));
  border-radius: 0 4px 4px 0;
  transform: scaleY(0); transform-origin: center;
  transition: transform var(--transition);
  opacity:0.95;
}

.nav-link:hover { background: rgba(17,24,39,0.03); color:var(--muted-700); transform: translateX(4px); }
.nav-link.active {
  background: linear-gradient(90deg, rgba(107,92,255,0.09), rgba(124,108,255,0.04));
  color: var(--primary-500); font-weight:600;
}
.nav-link.active::before { transform: scaleY(1); }

.nav-icon { width:20px; height:20px; display:flex; align-items:center; justify-content:center; font-size:1.05rem; color: inherit; }
.nav-link span { font-weight:600; color:inherit; }

/* Top nav */
.top-nav {
  position: fixed; top:0; right:0; left:0; height:64px;
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.92));
  border-bottom: 1px solid rgba(17,24,39,0.03);
  display:flex; align-items:center; justify-content:space-between;
  padding: 0 1.5rem; z-index: 50; box-shadow: var(--shadow-xs);
}

.nav-spacer { flex:1; }

.user-profile {
  display:flex; align-items:center; gap:0.6rem; padding:0.45rem; border-radius: var(--radius-sm);
  cursor:pointer; transition: background var(--transition);
}
.user-profile:hover { background: rgba(17,24,39,0.03); }

.user-avatar {
  width:38px; height:38px; border-radius:50%;
  background: linear-gradient(90deg, var(--primary-500), var(--primary-400));
  display:flex; align-items:center; justify-content:center; color:white; font-size:0.95rem;
}

.user-name { font-weight:600; color:var(--muted-700); }

/* Profile dropdown */
.profile-dropdown {
  position:absolute; top:100%; right:1.5rem; background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.95));
  border-radius: var(--radius-sm); box-shadow: var(--shadow-md); min-width: 220px;
  opacity:0; visibility:hidden; transform: translateY(-8px); transition: all var(--transition); z-index:1000;
  border: 1px solid rgba(17,24,39,0.04);
}
.profile-dropdown.show { opacity:1; visibility:visible; transform: translateY(0); }

.dropdown-item { display:flex; align-items:center; gap:0.6rem; padding:0.6rem 0.75rem; cursor:pointer; transition: background var(--transition); border-bottom: 1px solid rgba(17,24,39,0.03); }
.dropdown-item:last-child { border-bottom:none; }
.dropdown-item:hover { background: rgba(17,24,39,0.03); }
.dropdown-item.logout { color: var(--danger); }
.dropdown-item.logout:hover { background: rgba(239,68,68,0.06); }

/* Main content */
.main-content {
  margin-left: 0;
  padding: 1.5rem;
  padding-top: 6.25rem; /* account for top-nav */
  min-height: 100vh;
  background: transparent;
  transition: margin-left var(--transition), transform var(--transition);
}
.sidebar.open ~ .main-content { margin-left: 260px; }

/* Page / header */
.page { display:none; animation: fadeIn 260ms var(--transition) both; }
.page.active { display:block; }

@keyframes fadeIn {
  from{ opacity:0; transform: translateY(8px); } to{ opacity:1; transform: translateY(0); }
}

.page-header { margin-bottom: 1.75rem; text-align:center; }
.page-header h2 { font-size:1.6rem; font-weight:700; color:var(--muted-700); margin-bottom:0.25rem; }
.page-header p { color:var(--muted-500); font-size:1rem; max-width:640px; margin:0 auto; line-height:1.6; }

/* Stats grid */
.stats-grid {
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap:1rem;
  margin-bottom:1.25rem;
}

.stat-card {
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.92));
  padding:1rem;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xs);
  display:flex; align-items:center; gap:1rem;
  border: 1px solid rgba(17,24,39,0.03);
  position:relative; overflow:hidden;
}

.stat-card::before {
  content:''; position:absolute; top:0; left:0; right:0; height:3px; background: linear-gradient(90deg,var(--primary-500),var(--primary-400));
}

.stat-card:hover { transform: translateY(-6px); box-shadow: var(--shadow-sm); }

.stat-icon {
  width:56px; height:56px; border-radius:50%;
  background: linear-gradient(90deg, var(--primary-500), var(--primary-400));
  display:flex; align-items:center; justify-content:center; color:#fff; font-size:1.25rem;
  box-shadow: var(--shadow-xs);
  flex-shrink:0;
}

.stat-content h3 { font-size:1.6rem; font-weight:700; color:var(--muted-700); margin-bottom:0.2rem; }
.stat-content p { color:var(--muted-500); font-weight:600; font-size:0.95rem; }

/* Chart container */
.chart-container {
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.94));
  padding:1.25rem; border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); margin-bottom:1rem;
  border: 1px solid rgba(17,24,39,0.03);
}
.chart-header { text-align:center; margin-bottom:0.75rem; }
.chart-header h3 { font-size:1.1rem; font-weight:700; color:var(--muted-700); display:flex; gap:0.5rem; align-items:center; justify-content:center; }

/* Recent moods */
.recent-moods {
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.94));
  padding:1.25rem; border-radius: var(--radius-lg); box-shadow: var(--shadow-sm);
  border: 1px solid rgba(17,24,39,0.03);
}

.section-header { text-align:center; margin-bottom:1rem; }
.section-header h3 { font-size:1.1rem; font-weight:700; color:var(--muted-700); }

/* Mood list / items */
.moods-list { display:grid; gap:0.65rem; }
.mood-item {
  display:flex; align-items:center; justify-content:space-between;
  padding:0.9rem; background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96));
  border-radius: var(--radius-sm); transition: transform var(--transition), box-shadow var(--transition);
  border: 1px solid rgba(17,24,39,0.03);
}
.mood-item:hover { transform: translateX(6px); box-shadow: var(--shadow-xs); }

.mood-emoji { font-size:1.6rem; margin-right:0.75rem; flex-shrink:0; }
.mood-info { flex:1; min-width:0; }
.mood-date { color: var(--muted-500); font-size:0.88rem; font-weight:600; margin-bottom:0.25rem; }
.mood-note { color: var(--muted-700); font-size:0.95rem; line-height:1.4; word-wrap:break-word; }

/* Empty state */
.empty-state { text-align:center; padding:2rem; color:var(--muted-500); }
.empty-icon { font-size:2.25rem; color:var(--primary-500); margin-bottom:0.6rem; opacity:0.9; }

/* Mood Selector */
.mood-selector {
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(140px,1fr));
  gap:0.9rem; margin-bottom:1rem;
}

.mood-option {
  background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.94));
  padding:1.25rem 1rem; border-radius: var(--radius-lg); text-align:center; cursor:pointer;
  transition: transform var(--transition), box-shadow var(--transition), border-color var(--transition);
  box-shadow: var(--shadow-xs); border: 2px solid transparent; position:relative; overflow:hidden;
}

.mood-option:hover { transform: translateY(-6px) scale(1.01); box-shadow: var(--shadow-sm); }
.mood-option::before {
  content:''; position:absolute; inset:0; background: linear-gradient(90deg, rgba(107,92,255,0.06), rgba(124,108,255,0.02));
  opacity:0; transition: opacity var(--transition);
  z-index:-1;
}
.mood-option:hover::before { opacity: 1; }

.mood-option.selected {
  border-color: rgba(107,92,255,0.18);
  transform: translateY(-3px);
  box-shadow: var(--shadow-sm);
}

.mood-emoji { font-size:2.2rem; margin-bottom:0.6rem; transition: transform var(--transition); }
.mood-option:hover .mood-emoji { transform: scale(1.08) rotate(3deg); }
.mood-option.selected .mood-emoji { transform: scale(1.05); filter: drop-shadow(0 3px 8px rgba(17,24,39,0.08)); }

.mood-option span { display:block; font-weight:700; color:var(--muted-500); font-size:0.95rem; }

/* Note Section */
.note-section { margin-bottom:1.25rem; }
.note-section label { display:flex; gap:0.5rem; align-items:center; margin-bottom:0.6rem; font-weight:700; color:var(--muted-700); }
.note-section textarea {
  width:100%; min-height:88px; padding:0.75rem 0.9rem; border-radius:var(--radius-sm);
  border:1px solid rgba(17,24,39,0.06); background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96));
  resize:vertical; transition: border-color var(--transition), box-shadow var(--transition);
}

/* Utility / small controls */
.kv { display:flex; gap:0.5rem; align-items:center; }
.help { color: var(--muted-500); font-size:0.9rem; }

/* Forms (continued) maintain selectors for existing markup */
.form-actions { display:flex; gap:0.6rem; align-items:center; margin-top:0.6rem; }

/* Sidebar toggles / responsiveness */
@media (max-width: 1024px) {
  .sidebar { width: 220px; }
  .sidebar.open ~ .main-content { margin-left: 220px; }
}
@media (max-width: 820px) {
  .sidebar { transform: translateX(-110%); }
  .sidebar.open { transform: translateX(0); }
  .top-nav { padding: 0 1rem; }
  .main-content { padding: 1rem; padding-top: 5.5rem; }
}

/* Focus states (improve keyboard visibility) */
a:focus, button:focus, input:focus, textarea:focus {
  outline: 3px solid rgba(107,92,255,0.12);
  outline-offset: 2px;
  border-radius: 8px;
}

/* Toast / small ephemeral components */
.toast {
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96));
  border-radius: var(--radius-sm);
  padding: 0.6rem 0.9rem;
  box-shadow: var(--shadow-sm);
  border: 1px solid rgba(17,24,39,0.03);
  color: var(--muted-700);
}

/* Chart / canvas placeholders keep original selectors */
.chart-wrapper { position:relative; height:300px; width:100%; }

/* Small helpers used across app */
.text-center { text-align:center; }
.flex { display:flex; }
.items-center { align-items:center; }
.gap-sm { gap:0.5rem; }
.gap-md { gap:1rem; }  

/* Preserve older "dark-mode" class-based overrides used by JS:
   keep these to ensure switching to dark-mode keeps UI coherent */
body.dark-mode .auth-container,
body.dark-mode .sidebar,
body.dark-mode .top-nav,
body.dark-mode .main-content,
body.dark-mode .stat-card,
body.dark-mode .chart-container,
body.dark-mode .recent-moods,
body.dark-mode .mood-selector .mood-option,
body.dark-mode .suggestion-card,
body.dark-mode .chat-container,
body.dark-mode .profile-card,
body.dark-mode .toast {
  background: linear-gradient(180deg, rgba(18,22,33,0.66), rgba(10,14,22,0.7));
  color: var(--muted-700);
  border-color: rgba(255,255,255,0.04);
}

/* dark-mode interactive highlights (preserve existing behavior) */
body.dark-mode .auth-tabs .tab.active,
body.dark-mode .nav-link.active,
body.dark-mode .mood-option.selected {
  background: rgba(107,92,255,0.08);
  color: var(--primary-400);
}

body.dark-mode .form-group input,
body.dark-mode .note-section textarea,
body.dark-mode #chat-input {
  background: rgba(255,255,255,0.03);
  color: var(--muted-700);
  border-color: rgba(255,255,255,0.04);
}

body.dark-mode .form-group input:focus,
body.dark-mode .note-section textarea:focus,
body.dark-mode #chat-input:focus {
  border-color: var(--primary-400);
  box-shadow: 0 8px 32px rgba(92,72,230,0.12);
}

/* End of stylesheet */